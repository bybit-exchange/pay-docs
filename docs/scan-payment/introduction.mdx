---
title: QR Payment Introduction
sidebar_label: Introduction
sidebar_position: 0
---

## Version History

| Version | Date | Changes |
|:--------|:-----|:--------|
| 1.0 | 2025-02-10 | Initial release |
| 5.0 | 2025-02-17 | <li>Modified the state machine</li><li>Added "Pay Id" to Payment Notify</li><li>Added "Authentication" description to Payment Notify</li><li>Added "MccCodes" explanation for goods details</li> |
| 5.0 | 2025-03-03 | <li>Changed `clientId` to optional when initiating refund or querying order status</li><li>Moved field `goods` into `PayOrder` structure</li><li>Moved field `customer` from `PayOrder` structure</li><li>Renamed `orderAmount` to `amount` for all `PayOrder` types</li><li>Changed request body type from JSON array to JSON object when creating a refund order</li><li>Added `merchantRefundNo` when creating a refund order</li><li>Added error codes: `50000` (Bybit internal error), `400004` (Order not found), `500105` (Order not paid)</li><li>Changed `regionTime` to `registerTime` in Customer type</li><li>Added Type RefundOrder, removed refund fields from PayOrder</li><li>Removed all Customer and Good data from response structure</li><li>Added Signature Algorithm description</li><li>Changed notify request body</li><li>Changed timestamp from millisecond to second precision</li> |
| 5.0 | 2025-03-31 | <li>Added Payment Status Mock API</li><li>Added Payout API</li> |
| 5.0 | 2025-04-16 | <li>Added Settlement Report API</li> |
| 5.0 | 2025-05-09 | <li>Added payout status</li> |
| 5.0 | 2025-05-13 | <li>Refactored payment status mock path from `/v5/bybitpay/pay-status/mock` to `/v5/bybitpay/paystatus/mock`</li> |
| 5.0 | 2025-05-21 | <li>Added webhook support for merchant public key</li> |
| 5.0 | 2025-05-27 | <li>Refactored payment type from `BYBIT_PAY_MERCHANT_PAYOUT` to `MERCHANT_PAYOUT`</li> |
| 5.0 | 2025-05-28 | <li>Added customer uid in `/v5/bybitpay/pay_result` API and Payment Notify</li> |
| 5.0 | 2025-06-01 | <li>Added crypto scale (8 decimal places for crypto currencies)</li> |
| 5.0 | 2025-06-30 | <li>Updated signature algorithm</li> |
| 5.01 | 2025-07-04 | <li>Added Payment FxConvert API</li><li>Support fiat or crypto to create order with different settlement currency</li> |
| 5.01 | 2025-07-04 | <li>Made payout mccCode required</li> |
| 5.01 | 2025-09-03 | <li>Added additional error codes</li> |
| 5.01 | 2025-09-09 | <li>Added `remarks` field in `/v5/bybitpay/create_pay` and `/v5/bybitpay/pay_result` APIs</li> |

---

## Overview

QR Payment is a one-time payment method where users scan a merchant-generated QR code to complete payment through the Bybit App.

**Applicable Scenarios:**
- E-commerce checkout
- Retail POS systems
- One-time service payments
- Event ticket purchases

---

## Payment Flow

```
┌──────────────┐     ┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│   Merchant   │     │    Bybit     │     │   Bybit App  │     │     User     │
│    Server    │     │   Platform   │     │              │     │              │
└──────┬───────┘     └──────┬───────┘     └──────┬───────┘     └──────┬───────┘
       │                    │                    │                    │
       │ 1. Create Payment  │                    │                    │
       │ ─────────────────→ │                    │                    │
       │                    │                    │                    │
       │ 2. Return QR Code  │                    │                    │
       │    & Pay URL       │                    │                    │
       │ ←───────────────── │                    │                    │
       │                    │                    │                    │
       │   Display QR Code  │                    │                    │
       │   to User          │                    │    3. Scan QR      │
       │ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─│─ ─ ─ ─ ─ ─ ─ ─ ─ →│← ─ ─ ─ ─ ─ ─ ─ ─  │
       │                    │                    │                    │
       │                    │                    │ 4. Confirm Payment │
       │                    │                    │    & Enter PIN     │
       │                    │                    │ ←─────────────────→│
       │                    │                    │                    │
       │                    │    5. Process      │                    │
       │                    │    Payment         │                    │
       │                    │ ←──────────────────│                    │
       │                    │                    │                    │
       │ 6. Webhook Notify  │                    │  7. Show Result    │
       │    Payment Result  │                    │ ──────────────────→│
       │ ←───────────────── │                    │                    │
       │                    │                    │                    │
       ▼                    ▼                    ▼                    ▼
```

---

## API List

| API Name | Method | Endpoint | Description |
|:---------|:-------|:---------|:------------|
| [Create Payment](create-payment) | POST | `/v5/bybitpay/create_pay` | Create payment order, get QR code |
| [Get Payment Result](payment-result) | GET | `/v5/bybitpay/pay_result` | Query payment status |
| [Payment Notify](payment-notify) | POST | Webhook URL | Receive payment result callback |
| [Payment FxConvert](payment-fx-convert) | POST | `/v5/bybitpay/fx/convert` | Get exchange rate quotation |
| [Payment Status Mock](payment-status-mock) | POST | `/v5/bybitpay/paystatus/mock` | Mock payment status (sandbox only) |

---

## Order Status Flow

```
┌──────────┐     ┌───────────────┐     ┌───────────────┐
│   INIT   │────→│  PAY_SUCCESS  │────→│ REFUND_SUCCESS│
│  (Created)│     │   (Paid)      │     │  (Refunded)   │
└────┬─────┘     └───────────────┘     └───────────────┘
     │
     │ Timeout/Failed
     ▼
┌───────────────┐
│ TIMEOUT/FAILED│
│               │
└───────────────┘
```

| Status | Description |
|:-------|:------------|
| `INIT` | Order created, waiting for payment |
| `PAY_SUCCESS` | Payment completed successfully |
| `PAY_FAILED` | Payment failed |
| `TIMEOUT` | Order expired (not paid in time) |
| `REFUND_SUCCESS` | Refund completed |
| `REFUND_FAILED` | Refund failed |

---

## Quick Start

### Step 1: Create Payment

```bash
POST /v5/bybitpay/create_pay
```

```json
{
    "merchantId": "305142568",
    "clientId": "client_001",
    "paymentType": "E_COMMERCE",
    "merchantTradeNo": "ORDER-2026-0001",
    "orderAmount": "100",
    "currency": "USDT",
    "webhookUrl": "https://merchant.com/webhook",
    "expireTime": 1800
}
```

### Step 2: Display QR Code

Display the returned `qrCodeUrl` or `payUrl` to the user.

### Step 3: Handle Webhook

Receive payment result notification at your webhook URL:

```json
{
    "paymentType": "E_COMMERCE",
    "merchantId": "305142568",
    "merchantTradeNo": "ORDER-2026-0001",
    "payId": "01JY2KM5QNPXR8S4HTJZT9BC12",
    "status": "PAY_SUCCESS",
    "amount": "100",
    "currency": "USDT"
}
```

---

## Related APIs

- [Refund](refund) - Process refunds for completed payments
- [Payout](payout) - Send payouts to Bybit users
- [Settlement](settlement) - Query settlement records
