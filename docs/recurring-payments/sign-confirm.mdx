---
title: Sign Confirm API
sidebar_label: Sign Confirm
sidebar_position: 3
---

## HTTP Request

POST `/v5/bybitpay/agreement/confirm`

:::info Note
This is an optional API. Merchants do not need to call this API - the sign process completes automatically when the user confirms authorization.
:::

Optional API to query/confirm sign status. After user completes identity verification, platform automatically completes sign and notifies merchant via Webhook.

---

## Request Parameters

| Parameter | Type | Required | Description |
|:----------|:-----|:---------|:------------|
| merchant_id | string | **Yes** | Merchant ID |
| user_id | string | **Yes** | Platform user ID |
| agreement_type | string | **Yes** | Sign type: `CYCLE` / `SINGLE` |
| sign_order_id | string | **Yes** | Platform sign order number |

---

## Response Parameters

| Parameter | Type | Description |
|:----------|:-----|:------------|
| code | string | Response code |
| message | string | Response message |
| data | object | Response data |
| data.agreement_no | string | Platform agreement number (for deduction) |
| data.external_agreement_no | string | Merchant agreement number |
| data.user_id | string | Platform user ID |
| data.merchant_user_id | string | Merchant-side user ID |
| data.status | string | Sign status: `INIT` / `PENDING` / `SIGNED` / `FAILED` |
| data.sign_time | string | Sign success time (on success) |
| data.valid_time | string | Agreement validity period |
| data.binding_info | object | User binding information |
| data.binding_info.bind_time | string | Binding time |
| data.binding_info.bind_status | string | `BOUND` / `UNBOUND` |

---

## Request Example

```http
POST /v5/bybitpay/agreement/confirm HTTP/1.1
Host: api.bybit.com
Content-Type: application/json
X-Request-Id: 550e8400-e29b-41d4-a716-446655440002
X-Timestamp: 1736233200000
X-Signature: {signature}
Authorization: Bearer {access_token}

{
  "merchant_id": "M123456789",
  "user_id": "U_123456789",
  "agreement_type": "CYCLE",
  "sign_order_id": "AGR202601070001"
}
```

---

## Response Examples

### Signed Successfully

```json
{
  "code": "SUCCESS",
  "message": "ok",
  "data": {
    "agreement_no": "AGR202601070001",
    "external_agreement_no": "MERCHANT_AGR_001",
    "user_id": "U_123456789",
    "merchant_user_id": "merchant_user_123",
    "status": "SIGNED",
    "sign_time": "2026-01-07T10:30:00Z",
    "valid_time": "2027-01-07T10:30:00Z",
    "binding_info": {
      "bind_time": "2026-01-07T10:30:00Z",
      "bind_status": "BOUND"
    }
  }
}
```

### Pending Confirmation

```json
{
  "code": "SUCCESS",
  "message": "ok",
  "data": {
    "agreement_no": "AGR202601070001",
    "external_agreement_no": "MERCHANT_AGR_001",
    "user_id": "U_123456789",
    "merchant_user_id": "merchant_user_123",
    "status": "PENDING",
    "valid_time": "2027-01-07T10:30:00Z",
    "binding_info": {
      "bind_time": "2026-01-07T10:28:00Z",
      "bind_status": "BOUND"
    }
  }
}
```

### Sign Failed

```json
{
  "code": "SUCCESS",
  "message": "ok",
  "data": {
    "agreement_no": "AGR202601070001",
    "external_agreement_no": "MERCHANT_AGR_001",
    "user_id": "U_123456789",
    "merchant_user_id": "merchant_user_123",
    "status": "FAILED",
    "binding_info": {
      "bind_status": "UNBOUND"
    }
  }
}
```

---

## Notes

- This API is **optional** - Webhook notification is the primary way to receive sign results
- Use this API for active status polling if webhook delivery is delayed
- `agreement_no` is only returned after sign succeeds and is required for deduction
